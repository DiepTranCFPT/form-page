<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒê√°nh Gi√° NƒÉng L·ª±c MBTI & DISC</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>

    <div class="container">
        <div id="welcome-screen">
            <header>
                <h1>H·ªì S∆° NƒÉng L·ª±c 4.0</h1>
                <p class="subtitle">C√¥ng c·ª• tham kh·∫£o ƒë·ªãnh h∆∞·ªõng T√≠nh c√°ch- Ngh·ªÅ nghi·ªáp ƒë·ªÉ t√¨m ra phi√™n b·∫£n t·ªët nh·∫•t c·ªßa b·∫°n.</p>
            </header>

            <div class="gate-box">
                <div class="gate-content">
                    <h3>üîí M·ªü kh√≥a b√†i ƒë√°nh gi√°</h3>
                    <p>Vui l√≤ng ƒëi·ªÅn th√¥ng tin ƒë·ªÉ b·∫Øt ƒë·∫ßu l√†m b√†i test (Mi·ªÖn ph√≠).</p>
                    
                    <div class="form-group">
                        <label>H·ªç v√† t√™n *</label>
                        <input type="text" id="inp-name" placeholder="V√≠ d·ª•: Nguy·ªÖn VƒÉn A">
                    </div>
                        <div class="form-group">
                            <label>S·ªë ƒëi·ªán tho·∫°i *</label>
                            <input type="tel" id="inp-phone" name="phone" placeholder="0912..." required>
                            <small class="error" id="err-phone"></small>
                        </div>

                        <div class="form-group">
                            <label>Email (ƒê·ªÉ nh·∫≠n k·∫øt qu·∫£ chi ti·∫øt)</label>
                            <input type="email" id="inp-email" name="email" placeholder="email@example.com">
                            <small class="error" id="err-email"></small>
                        </div>
                    
<button class="btn-start" onclick="handleStartTest(event)">
    üöÄ B·∫ÆT ƒê·∫¶U L√ÄM B√ÄI NGAY
</button>
                    <p class="privacy-note">üîí Cam k·∫øt b·∫£o m·∫≠t th√¥ng tin 100%</p>
                </div>
            </div>
        </div>

        <div id="main-app" style="display: none;">
            <div class="nav-tabs">
                <div class="tab-group">
                    <button class="tab-btn active" onclick="app.switchTab('mbti')">1. T√≠nh c√°ch</button>
                    <button class="tab-btn" onclick="app.switchTab('disc')">2. H√†nh vi</button>
                </div>
                <div class="action-group">
                    <button class="btn-result" onclick="app.finishAndSave()">‚ú® Xem K·∫øt Qu·∫£</button>
                </div>
            </div>

            <div class="content-area">
                <div id="mbti" class="tab-content active">
                    <div class="intro-card"><strong>üí° M·∫πo:</strong> Ch·ªçn ƒë√°p √°n ph·∫£n √°nh con ng∆∞·ªùi th·∫≠t c·ªßa b·∫°n <em>ngay l√∫c n√†y</em>.</div>
                    <div id="mbti-list"></div>
                    <div class="footer-nav"><button class="btn-next" onclick="app.switchTab('disc')">Ti·∫øp t·ª•c sang DISC ‚ûî</button></div>
                </div>

                <div id="disc" class="tab-content">
                    <div class="intro-card"><strong>üéØ H∆∞·ªõng d·∫´n:</strong> Ch·ªçn 01 c·ª•m t·ª´ m√¥ t·∫£ <strong>GI·ªêNG B·∫†N NH·∫§T</strong>.</div>
                    <div id="disc-list"></div>
                    <div class="footer-nav"><button class="btn-next finish-btn" onclick="app.finishAndSave()">Ho√†n t·∫•t & Xem k·∫øt qu·∫£ üèÅ</button></div>
                </div>
            </div>
        </div>
    </div>

    <div id="result-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="document.getElementById('result-modal').style.display='none'">&times;</span>
            <div class="modal-header-text">
                <h2>H·ªì S∆° NƒÉng L·ª±c C·ªßa B·∫°n</h2>
                <p>Ch√†o <span id="user-name-display" style="color:#6366f1; font-weight:700;">b·∫°n</span>, ƒë√¢y l√† k·∫øt qu·∫£ ph√¢n t√≠ch:</p>
            </div>

            <div class="result-grid">
                <div class="res-box">
                    <span>MBTI</span>
                    <span class="res-val" id="res-mbti">---</span>
                    <small id="desc-mbti">...</small>
                </div>
                <div class="res-box">
                    <span>DISC</span>
                    <span class="res-val" id="res-disc">---</span>
                    <small id="desc-disc">...</small>
                </div>
            </div>

            <h3>üöÄ Ngh·ªÅ nghi·ªáp & M√¥i tr∆∞·ªùng ph√π h·ª£p</h3>
            <div class="table-wrap">
                <table id="career-table">
                    <thead>
                        <tr>
                            <th>Nh√≥m ng√†nh l·ªõn</th> <th>Nh√°nh / Lƒ©nh V·ª±c</th> <th>M√¥i tr∆∞·ªùng & ki·ªÉu c√¥ng vi·ªác</th>
                        </tr>
                    </thead>
                    <tbody id="career-body"></tbody>
                </table>
            </div>
            <div id="no-match" class="alert-box">Ch∆∞a t√¨m th·∫•y d·ªØ li·ªáu kh·ªõp 100%.</div>
            <div class="modal-footer">
                <button class="link-reset" onclick="app.resetTest()">üîÑ L√†m l·∫°i t·ª´ ƒë·∫ßu</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

<script>
function validateForm() {
    let phone = document.getElementById("inp-phone").value.trim();
    let email = document.getElementById("inp-email").value.trim();

    let errPhone = document.getElementById("err-phone");
    let errEmail = document.getElementById("err-email");

    errPhone.textContent = "";
    errEmail.textContent = "";

    let isValid = true;

    // Regex s·ªë ƒëi·ªán tho·∫°i VN (10 s·ªë, b·∫Øt ƒë·∫ßu b·∫±ng 0)
    let phoneRegex = /^0\d{9}$/;

    if (!phone) {
        errPhone.textContent = "Vui l√≤ng nh·∫≠p s·ªë ƒëi·ªán tho·∫°i";
        isValid = false;
    } else if (!phoneRegex.test(phone)) {
        errPhone.textContent = "S·ªë ƒëi·ªán tho·∫°i kh√¥ng h·ª£p l·ªá (VD: 0912345678)";
        isValid = false;
    }

    // Regex email
    let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    if (email && !emailRegex.test(email)) {
        errEmail.textContent = "Email kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng";
        isValid = false;
    }

    return isValid;
}
function handleStartTest(event) {
    event.preventDefault(); // ch·∫∑n submit / h√†nh ƒë·ªông m·∫∑c ƒë·ªãnh

    // g·ªçi h√†m validate b·∫°n ƒë√£ c√≥
    if (!validateForm()) {
        return false; // kh√¥ng cho start test
    }

    // n·∫øu h·ª£p l·ªá th√¨ m·ªõi cho ch·∫°y
    app.startTest();
}
</script>
